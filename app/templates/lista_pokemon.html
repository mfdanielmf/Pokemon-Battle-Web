{% extends "base.html" %}

{% block title %} PokeWarrior - List {% endblock %}

{% block link %}
<link rel="stylesheet" href="{{  url_for('static', filename = 'css/pokemon-lista.css')}}">
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=person" />
<script src="{{url_for('static', filename = 'js/buscador-lista.js')}}" defer></script>
{% endblock %}

<!-- Variables base para que resalte la navbar -->

{% set nav_text_color = "text-indigo-800 drop-shadow-sm" %}
{% set nav_link_class = "hover:text-yellow-500 transition-all duration-300" %}
{% set nav_underline_color = "bg-yellow-500" %}
{% set play_button_class = "bg-indigo-600 text-white rounded py-2 px-4 hover:bg-indigo-800 italic font-bold shadow-md
transition-all duration-300 ease-in-out" %}
{% set footer_text_color = "indigo-800" %}


{% block nav %}
{% if entrenador%}
<div class="flex items-center justify-between gap-4">
    <div
        class="flex items-center justify-center gap-2 flex-wrap px-3 py-1 bg-indigo-100 bg-opacity-20 rounded-full shadow-sm">
        <span class="material-symbols-outlined text-indigo-800">
            person
        </span>
        <p class="font-semibold">{{entrenador}}</p>
    </div>

    {{super()}}
</div>
{%else%}
{{super()}}
{% endif %}
{% endblock %}


{% block main %}

<form action="" method="post" class="max-w-md mx-auto mb-4 mt-4">
    {{form.hidden_tag()}}

    {{form.entrenador()}}

    <label for="default-search" class="mb-2 text-sm font-medium text-gray-900 sr-only">Search</label>
    <div class="relative">
        <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
            <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 20 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
            </svg>
        </div>
        {{form.pokemon()}}
        {{form.enviar()}}
    </div>
</form>

<div class="flex flex-col">
    {% for error in form.pokemon.errors%}
    <div class="text-center text-red-500 font-bold">
        {{error}}
    </div>
    {% endfor %}
</div>

<div class="pokemon-container">
    {% for pokemon in pokemons %}
    <a href="{{ url_for('pokemon.pokemon_detalles', id = pokemon.id) }}">
        <div class="pokemon-card">
            <div class="title-img-container">
                <h3>{{pokemon.name}}</h3>

                <section class="img-iconos-container">
                    {% for tipo in pokemon.types%}
                    <img src="{{url_for('static', filename='media/img/tipos-pokemon/' + tipo + '.webp')}}"
                        alt="Tipo de pokemon" class="img-tipo">
                    {% endfor %}
                </section>
            </div>

            <img src="{{pokemon.sprites.front_default}}" alt="{{pokemon.sprites}}">

            {% for elemento in pokemon.types %}
            <p class="tipo-{{ elemento }}">{{ elemento }}</p>
            {% endfor %}

        </div>
    </a>
    {% endfor %}
</div>

{% endblock %}